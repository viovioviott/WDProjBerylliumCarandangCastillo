<!DOCTYPE html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="stylesheet.css">
    <link rel="stylesheet" href="space.css">

    <title>Polaris</title>
    <link rel="icon" type="image/ico" href="images/favicon.ico?v=2">
</head>

<body>
    <header>
        <section class="intro">
            <div>
                <img id="icon" src="images/polarislogo.png" alt="Polaris Logo"> 
            </div>
        <a style="font-size: 40px;" href="index.html">POLARIS</a>
        <p style="font-size: 20px;">A Guide to the Stars</p>
        </section>
        
        <nav>
            <div class="nav">
            <a class="top" href="index.html">Home</a>
            <a class="top" href="polaris.html">Polaris</a>
            <a class="top" href="howto.html">How to Use</a>
            <a class="top" href="space.html">Guide on Space</a>
            <a class="top" href="authorinfo.html">About Us</a>
            <a class="top" href="almanac.html">Almanac</a>
            <a class="top" href="signup.html">Sign Up</a>
            
            </div>  
        </nav>

        
    <style>
      label {
        font-family: starborn;
        color: white;
        font-size: 30px;
        }
    td, th{
      border: 1px solid;
    }
    table{
      border: 3px solid;
      border-collapse: collapse;
      padding: 20px;
      text-align: left;
      color: white;
      background-color: rgb(100, 67, 223);
      width: 50%;
      font-size: 30px;
    }
    tr:nth-child(even) {background-color: #f2f2f2;}
    aside{ /* sets the design for the dropboxes */
    border: 2px solid #ffffff;
    background-image: linear-gradient(to bottom, #1d1a58, #08071b);
    width: 20%;
    min-height: 100vh;
    margin-right: 15px;
    margin-top: 10px;
    margin-bottom: 10px;
    border-radius: 25px; 
    float: right;
}
select {
        width: 40em;
        font-size: 1em;
        padding: 16px 20px;
        border: none;
        border-radius: 4px;
        background-color: #f1f1f1;
        }
        .drpdwnbutton {
    display: block;
}
    </style>

    </header>





    

    <aside>
            <div id="myDropdown" class="dropdown-content">
                <a class="drpdwnbutton" href="Sunrisesunset.html" style="font-size:5em;">Sunrise/Sunset Times</a>
                <a class="drpdwnbutton" href="Solarlunareclipse.html" style="font-size:5em;">Solar/Lunar Eclipses</a>
                <a class="drpdwnbutton" href="Seasons.html" style="font-size:5em;">Season Equinox/Soltices</a>
            </div>
    </aside>

    <label for="filter" id="title">Filter by Event</label> 
        <select id="filter" name="filter">
            <option value="All">All</option>
            <option value="Sunrise">Sunrise</option>
            <option value="Sunset">Sunset</option>
            <option value="Solar Eclipse">Solar Eclipse</option>
            <option value="Lunar Eclipse">Lunar Eclipse</option>
            <option value="Seasons">Seasons</option>
        </select>
    <br> <br>
    <label for="arrange" id="title">Arrange By</label> 
        <select id="arrange" name="arrange">
            <option value="creation">Date of Creation</option>
            <option value="observation">Date of Observation</option>
        </select>
    <br> <br>    

    <table id="list"> 
        <tr>
          <th colspan="4"><b>No signups yet</b></th>
        </tr>
    </table>
    
    


    <footer>
        <div class="content">
            <p>2025-2026</p>
            <p>b2029 Beryllium</p>
            <p>CARANDANG</p>
            <p>CASTILLO</p>
            <a src="https://docs.google.com/document/d/1y0HDwMChhhde23UVxOnTq2EY30sKsKeAYRubpdIylVM/edit?usp=sharing">CITATIONS</a>
        </div>

        <section class="outro">
        <img id="iconend" src="images/polarislogo.png" alt="Polaris Logo"> 
        <h4 style="font-size: 30px;">Polaris</h3>
        <p style="font-size: 15px;">A Guide to the Stars</p>
        </section>
    </footer>





    <script>

function loadNotes() { // this is to load the data
const KEY = "notes";
const raw = localStorage.getItem(KEY); 

if (raw) {
  return JSON.parse(raw); // if there is saved data on the key "notes", parse and return it
} else {
  return []; // if none, return a blank array
}
}

// filters
filter = '';
arrange = '';


// Render list to the page
function render() {
  const notes = loadNotes()[loadNotes().length-1].data;
  const list = document.getElementById('list');

  if (notes.length == 0) { // if there are no current save data, display no notes yet
    list.innerHTML = '<tr><th colspan="4"><b>No signups yet</b></th></tr>';
    return;
  }
  else {

    let output =
      `<tr>
        <th>EVENT</th>
        <th>DATE EXPECTED</th>
        <th>DATE CREATED</th>
        <th>LOCATION</th>
      </tr>`;
         
    let existinginstances = 0;
    let numberperevent = 0;
     
    for (let i = 0; i < notes.length; i++) { // once there is data, display it in a table
      if ((filter == "All") || (filter == notes[i][0])) {
        numberperevent += 1;
      }
    }
     
    if (numberperevent != 0) {

      for (let i = 0; i < notes.length; i++) { // once there is data, display it in a table
        if ((filter == "All") || (filter == notes[i][0])) {
          output += `<tr>
            <td>${notes[i][0]}</td>
            <td>${notes[i][1]}</td>
            <td>${notes[i][2]}</td>
            <td>${notes[i][3]}</td>
          </tr>`;
        }
      }


    } else {
      if ((existinginstances == 0)) {
        output = '<tr><th colspan="4"><b>No signups yet for this club.</b></th></tr>';
        existinginstances += 1;
      }
    }


    list.innerHTML = output;
  }



};

render();

document.getElementById('filter').onclick = function(event) { // filter out the students
  filter = document.getElementById('filter').value.trim();
  render();
}

document.getElementById('arrange').onclick = function(event) { // filter out the students
  arrange = document.getElementById('arrange').value.trim();
  render();
}


    </script>



</body>